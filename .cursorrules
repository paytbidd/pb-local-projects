# Prototype Playground Rules

This is a prototype playground for design explorations and UI experiments. Each prototype lives in its own folder.

## Project Structure

```
pb-local-projects/
├── index.html          # Auto-generated project listing (DO NOT edit manually)
├── template.css        # Shared styles for all prototypes
├── build-index.py      # Script to regenerate index.html
├── shared-assets/      # Reusable assets across projects
├── .cursorrules        # This file
└── [project-name]/     # Individual prototype folders
    ├── index.html      # Prototype entry point
    ├── styles.css      # Project-specific styles
    ├── script.js       # Project-specific JavaScript
    ├── metadata.json   # Project name, shortName, and description
    └── assets/         # Project-specific images, icons, etc.
```

## Creating a New Prototype

1. **Create project folder** with a kebab-case name (e.g., `my-new-prototype/`)

2. **Required files:**
   - `index.html` - Must link to `../template.css` for shared styles
   - `styles.css` - Project-specific styles
   - `metadata.json` - Contains `name` and `description` fields
   - `script.js` - If interactive (toggle buttons, etc.)

3. **metadata.json format:**
   ```json
   {
     "name": "Project Name",
     "shortName": "PROJECT NAME",
     "description": "Brief description for the index page"
   }
   ```
   - `name`: Full project name (used for sorting)
   - `shortName`: ALL CAPS name displayed in the index listing
   - `description`: Brief description shown below the name

4. **Update the index** by running:
   ```bash
   python3 build-index.py
   ```

## Template Conventions

### HTML Structure
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Title</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../template.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Local environment indicator -->
  <div id="local-indicator" style="display: none; position: fixed; top: 10px; left: 10px; width: 8px; height: 8px; background: #fe9446; border-radius: 50%; z-index: 9999;"></div>
  <script>if(location.hostname==='localhost'||location.hostname==='127.0.0.1')document.getElementById('local-indicator').style.display='block';</script>
  
  <div class="container">
    <header class="header">
      <div class="header-title">
        <a href="../" class="header-title-link" aria-label="Back to index">
          <span class="back-chevron">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <h1>PROJECT TITLE</h1>
        </a>
      </div>
      <p class="subtitle">Description</p>
    </header>
    
    <div class="controls">
      <div class="toggle-control">
        <button class="toggle-btn active" data-iteration="1">Option 1</button>
        <button class="toggle-btn" data-iteration="2">Option 2</button>
      </div>
    </div>
    
    <div class="prototype-frame">
      <div class="iteration-container">
        <div class="iteration iteration-1 active" data-iteration="1">
          <!-- Content -->
        </div>
        <div class="iteration iteration-2" data-iteration="2">
          <!-- Content -->
        </div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
```

### Standard Toggle Script (script.js)
```javascript
const toggleBtns = document.querySelectorAll('.toggle-btn');
const iterations = document.querySelectorAll('.iteration');
let currentIteration = 1;

toggleBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    const iteration = parseInt(btn.dataset.iteration);
    if (iteration === currentIteration) return;
    currentIteration = iteration;
    toggleBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    iterations.forEach(iter => {
      iter.classList.remove('active');
      if (parseInt(iter.dataset.iteration) === iteration) {
        iter.classList.add('active');
      }
    });
  });
});
```

### CSS Conventions
- Override `.container` max-width if needed
- Use CSS custom properties from template.css
- Define `.iteration` display states:
  ```css
  .iteration { display: none; }
  .iteration.active { display: block; }
  ```

## Design Tokens (from Figma)

```css
:root {
  --text-primary: #2e3438;
  --text-secondary: #585d60;
  --text-subtle: #787c7f;
  --icon-secondary: #9fa3a8;
  --background-app: #f8fafb;
  --background-body: #ffffff;
  --border-container: #e2e5e9;
}
```

## Running Locally

Start the server from the project root:
```bash
cd /Users/payton/git/pb-local-projects
python3 -m http.server 8080
```

View at: http://localhost:8080/

## Shared Assets

The `shared-assets/` folder contains reusable assets across projects. Reference them via `../shared-assets/filename.png`.

**Current shared assets:**
- `icon-sparkle-filled.png` - AI sparkle icon
- `workspace.png` - Mitra Global workspace icon
- `emoji-rocket.png` - Rocket emoji
- `emoji-construction.png` - Construction worker emoji
- `app-gdrive.png`, `app-github.png`, `app-figma.png` - App icons
- `avatar-ai.png` - AI avatar
- `notion-icon.png` - Notion icon

**When to use shared vs project assets:**
- Use `shared-assets/` for common icons, emojis, app logos
- Use project `assets/` for prototype-specific images (unique avatars, screenshots, etc.)

## Figma Integration

When building from Figma designs:
1. Use `mcp_Figma_Desktop_get_design_context` to extract styles
2. Use `mcp_Figma_Desktop_get_screenshot` for visual reference
3. Download assets - add to `shared-assets/` if reusable, or project `assets/` if specific
4. Match exact colors, fonts, spacing from Figma

## Checklist for New Projects

- [ ] Created project folder with kebab-case name
- [ ] Added index.html with template.css link
- [ ] Added styles.css with project-specific styles
- [ ] Added metadata.json with name and description
- [ ] Added script.js if interactive
- [ ] Copied any needed assets to assets/ folder
- [ ] Ran `python3 build-index.py` to update index
- [ ] Tested at http://localhost:8080/[project-name]/
